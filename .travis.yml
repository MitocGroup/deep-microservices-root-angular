language: node_js
sudo: required
node_js:
  - '4.3'
  - '6.10'
  - '7.7'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  global:
    - MAJOR_VERSIONS=master
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - secure: 
        E6n/1PAzTNbA+TYB41sdr2ywkEA9gmANvVpE1D9p+0hkS6/jWzmXghohi/ng+WiklgHKbZDrcg5o97YhHNu/D4bJMeCLr6HHM13KJmKXP4C0vFQLEfQUAJfztgqcpZ+c6FbFTt9f8iRHhDpAv7Cuk20qSwmVZnCqoTDRI0ijiquN+sxlh/bknn6RikWXh9c1PaeG0wnLp0oX5eeviEM1BVcd5TkmXPAqTY2UMmpj2ueZn9WJDlx6F+c5mGNJer0q8lz+StRuBZrCy531qLvU4XcHj70v7PGOCdFzP2V6E9cd4zBrAvlrPtwXefluMNq+XEH+CMkHv7kJ3u+yo1NAhY33IJE9T7yF1GVOgbvjJglqlR1seJRd1bp8PJoluRfm1ete4RiYtJRDdRD+oaxtZ28e4wFDg/khA0lSvb5Urll9ukFF0cBVqG2UN2aQ91tLPy+4jQQ6Mk+bBrDRO4LBaPABOSizPBc72dRsWJx3gGjoK50RtsIjtv1EnWGgIEldpYhX6JPndeSEaqs7sSn55da2ExJw5Cs2onOF4Td/x6cpEvgk9YTKwn2fuJ8gh/P2yvfMS4JtFDnuqG2k9jDFn38HYA8hJ3G67htHgE74FbCf7QNLCzSCm3CR5S2VRt14OHqSGCVGOVWOgOapozwhkPcOcIL6YKynot1/xPqicZg=
    - secure: 
        DD8uyG4qHQaLVkucj1ZsdPc6nmajdFTWwI55EiEwofMOTYIZQSnGjRCGbxB1EqBmsUZt7RuWAraKnj6DbY5dZvNElcCJGpC3gFxFFWT840dWRynNf/TYr3Vn5tbl3mHVwFUYNJXN0Gc8NRfvzahOXVKZvIxUCgbgR/m/BY26xEkAsiT4JMyLD0z9IrbivPfzjURYJN+nByNAF7l9Y0JxQ9ffgityCTmcbeixE5pyAwqYdJZMiYvJBt/Y8K5Tb7ZYL0CcZ/GA+lFF+qXazNVdmKgzEMUd7mG0ZQnQh1E4H5C5TiB5PwI9qJzDofCLV/CNtgrWoRcAw7hUCcyqSvyYyqx3BDTmCJUyp4WQpdYJkb32vshMxxVd9OXgbOk2AskjyTx5JANt4RfAQA6zVlgfVuCPeCm2wIqaDbLpCLBdo3BWX4X12Hg/+70RkcfC/s1wU79V5a/bohPa3U9m0QU7aRnUmum4CzkhLX5RzioCkV2j/pzceEr9JU9+EhLSrC02GEnnqCDJWwCgloKWsSv5ohFEnwwHm5+L0zrvESujIPLC+l8lRQHxfTswRhG8wRGBKY+Onztn7jfWwK5XJuS1SLefGC1rx0r0TZhLDcsx9UJTrXuDlLK0gMYYw6t9DlMF+bftf9MGxxQUfveRdfQ3pRYQrWUcJdm8XcYQ3E8tmW8=
    - secure: 
        Vfhl5RAgFOr1+InS9CbufteSyjC92sCqZrz+CJqroxrkIZFi2og01BrkpheEuyT5keht15QZkHe43dtEcevti/XPtRBKs1dOuMgEm7mvLQrTIeq7NiHGVUENYfsb27dqxNqHpO6QeBNpOjYFZ1XSr4XOzTrRXuglE5RrrQxgLUWUV/uetx5uboeKfkX4GGKqs9Srv6AEr4gGEY4UuuzK4z2kgnFCS9SzHa1qE/PU4fgGhCEB/ea4ddDVEl0e+ZABW4gPtzZuu1hlAAPEmy5BmGU+BOPHhTYSImrYppkkKpYnANHmMdCeb9Ga5wuqJqYqpx3hL/a/hNnnaCCoVB2xmATfVLwFLEDlUCdT5F7cZtzHG/D5sk1b/8Q9Ioh97B9p8FxoOt+va/rnOegwY54nIxK+yMYSedCZuuHvxRfrEpsPv3V9OtZecF3uPYxtjRiA133IpMGk/ATQKRDjFMIACspZc+Bnb3iPVBhKDb9OrvkENLjDs2dPVS0qOFgNdFqzOT9xaiTve4ekWlCM/ZkqJ1rl1NDmJQaLES+Q84CRC/09vuuLU1B2iMEThCcwRJw8mbjKnlbqRkdM2Gr5I6v+b4m8eyvmd+vu+cuxEcTo9wuAvHPpH0vr2W5TwDdLPegXpyRmHEllSCy1BHLYKnQbELDv/AYQWNwb6WNGDeNtzZA=
    - secure: 
        n8qN+Y6+4u8l44wbb1MH/egSHoE//jwxx9NSMR4Eb5aRxyujxcwVZheXHYChjQmV7W3ffidtaZc+aKE1TKiLFL3OwsmkZfFaK8NMum5YhWwL6oUoPRoos6zWRGc+uvfe82zG4g2GHNGiUHM5tQdElRI8Sgm8U+VCZY0AiPsyTxlH8WBeQetSYylM1TXag3Vg/zGnsegtJd0U4KB+xRhsDAWIoylm3CibEYIbVHozC+VPE5z7+ekii6oYfHOsHca2Tn9A1/jtHe7S2bAQvoEKSevu8EvfiAsFbFz9a2CWPU4d0tYpAeEN+kumKbPwTtvVjPEjHDHIvllpkqv3MRTV0bj+igBvbe5BR3TTW6E3VpY+7eMMr6uj7/0GhLqlSWaMFWLtDZItPM4ng32UcCPyHJJPiFfDJV4DymkdIEA+3LXi3lxwY0fXh7heGzxFlysKsKhngIRGlv0TaWm6HSBsqSEsO7JAbUF+GIGAsLOhhF1TcMPBJcPqrkXbetOISrr5KmoGFMWPbh6moQ7EJ1o1Iwv+vELZArh3vk0Dwmfol215lTBpaI7H/Mf+yGrBIIqpEdZspRDCx/c/iZr913tcdZZuhK97TJkadmHO/LU5DtwmCUcCuQNA51y8JOBC9vn3KaChBauXLW3eYvpNv4QS1cGb/qArtLQQoJ8ifec4+iM=
    - secure: 
        g4IVlyLf3j3TQVZgvQgEpDtz5+W4sbTrIK2fPrS87FW4LO1Gf53hGE+TQobdR+N+Tjv87HsaTz2Krsner9Z+imzu1pCM0SmRjQLt9G0UhnOUs4jUEoe//wCFO6Q8OnkbM/Mplb6FLwZrOqSqGMw7V8WoOeVW4EGzk9oq9GjxqCfpK7SMcqcgDjRa3pslGCzXjJ+7Jqhrw9XEuXcVdrfPwjca/b3GBitZVFPxR8LUU+dUgaj3JAGAERjeMSRyBXsdpj8D+ZUzNEpn/o5FLTyXp8i7ZFKQMAKF3gRYfnvyGZ8Mc+RJQujFFMIWI21q7GoSZRdFF8a1dKln51ZrTnr9pHmet6cFYr4DHCvFs20nBQDm4vEkd8TGwOmjTdoaPtmTkT0mDL8n6BTJUAiakUxNTw8SaF7w8sW8abqgLTv05oa+F1b+hYg1FhX+hI4d9H7RlMPKUHMr4ks+bk43eXKSwjN8KnO5Eo1aOJSxXaPJ8bH7uLVvzwtuEVn/LLkg5lHWeFddEl8ArN7B53QeXdYiLu0H2aLcEMUU7MSkFiHeHHN2OySMDeWtK0QgXVv2d89yGnavwrvCTbKe1WIctM0nmlTrC/1z4jq891zuc0bN8LnbyWg6gnFUPWRsDVvwX4yG5HkfEvxGTGu/ZwvOZu/Dk3vngqIhVJdtUqhn4qDuk/M=
    - secure: 
        X/TQtQDYBsdapEnMMTURs25aYrXFNLJCt3GN1ArYQaSmPV6cPZxuwhqxVry60Th3jnvJRriDaeWFGSpDXadLQ51pCOli4YQmgetXUS5i52CVbJHIizY6Sa0S09EddYOZjfcHiWI9iKLn6QTmYe7BAWd8T+t5Ftsrb8Mci5CRyJF1Alw4eR+xXxeUuv2TF58n2vMWeFlPr+6DFeDzT0hHXKlvhJFB3PHfYRwEJ0212G8p/8Tv/Uyeb+YU/IzUiZaoRi4YLB7o4sWzAoRnbvGLXfA9oUtLNlbapcAeurINfh0WizF10NNpXKXVUS+VPm+cb+YuH74/3AaFdqgI8pgq/BI6m7p+xGEc7eHOZNoXvI5IxioKrhmu4K6OnpxRKA9CnHJxsBCiPpC/pgqxlBFSYhJ5F9yvt69KvYWlIoq2fOSw4XSkC9DIdpTF9aOODe459JNoz1Gb+T8OhBUuoiK6L0K0t0tFOi+fmwntcgXXsKePatYv0Qq0FzK85g4Jnr9K4295YbCKwrYHshfqF5/6d9pwkN/gVTruw5YDSNLtcfO+ogB53lUESWoO0xDp1pfR0S0keY8BfIkkp0GWvxpCQ0lL/4V2m+lvLYQKeNryiv5RmBMYohki30P6/SFibyox8hCG3wGdhTdvxUvSMeD9CK+WAuFE138g7vqrTuUBWrM=
    - secure: 
        bP8zG3t5JYGYdrZdXwQAUxyeqNh9W262sboIjqn+8faOPySZzgRyU/60HiXz7fSL3HFJ0CP/oDjd14IwdNLbY+2SQF50Eu3nZcxsSD56nWzHHjj5kC+8W2rSQ4ko41t5v6ThLLJgYR+AuEu5oCBVXqwCpFAsmXKlvHqa/zyqtGeZEPACijewPcktPCrmrasOxh48QzZM7wB1DgLiinLfeklwQoXwQ+TPSm82R2L7tb09P1BMptqb2IXNBTk40zq74EjpIGoYT5zCuaTAaUO93bh6XQ58aXC40yYGWBImTPrIF25HTzkAmZXYHbUVIoYYaBRB75W/Q3JQcP1S2IUdUj3DRiXg6S+fXbDhysIhgPXuyH3meehDoPUUWEUyQfdCNNIrWezeOtZk1M4YHBjZzi08dkMg/z/gOAMdWFpruyV51gbp/gthhTSBKa77WLwsVzP3ARhIZIMGA8xwQFKe1kFWDy7Ff+LAo+NKpIL0cFAPzpcgfEu3L36SomoLjNLYxhPNVe8QhvVcDeW8umDXxxq1x/Wyud4jcCnHdh+FJQdD5CN7IKL8uq/YfI9g+Q9gcyrGZOku1OsBjYvbT7VUwIgkgheQ+qWN5EEMnN7WrnGZnfSufAkHsehTkWISUG/E7DekVIKBeYCuqxqVSXoZxT8sIHKHfX1q5IONDiGSAU8=
    - secure: 
        Oh8NQT3Etm0YiKzC04NpKCZNnM+sKhJFuaBfNJRNymB3N04xNmv63V2I6pkLSBnSCG+3Hz1j1R4M+JtGFWpmTMn+bEzz8kT826C3crKSTCXh06p2IC/mq/Byj2v2S6+L6j61aZlw1/UIDNcUbHLC82MY03wEEpH30En2dS97bOZ2K6XQUS7OMbB3CNqdL98rj3gkh6Ha1qsVSzqp6sqLr6VBfVCd+baNmbQy0ukAu1U6aiPwX5ZeabS4gVR2ecMHYNdSaG8NKQ6ejr7lX9qf38jNb/VCR3fBFcYQfdomCB2awyzbLztFzuFZv0HDMzn0v6ciEAexQd4+eLVXlUo1liJSjIQh2PGAxzdO62XnoQ9D/M0nnRiJeowhf3gxL1m5Lb8FBkdjQoyG2qbwgj+AT5fobfOw/FKyQkmeu9gdowYwmNGk1HvwWNhCbWtzzlOe43Kt+uakLz6dBtVoXyPblt6jhSgzzrIlOudzUYBc4pcvtrWEonEQ162udUwX7JCsJnoGjE42GnLb/QtjQ/HptmnCxE+ScYrLDZo7I3MxqJIJY5a3vt1i2CJ9KCCzoG49+t5W2XXXHE+25Qrx2Ye9svlNxwPfLZR8AEjg6R4Wlq03xPqCAi6AO7kgP6SxpmfJnt5NnteRk7KYpzoFsV+fQ5Ye58usxVO62Nq2iDXl30Q=
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
notifications:
  slack:
    secure: 
      nxsMCWLKLM4VayRt35/ztjiBTLxrn1qSIlDPCgb297TLwGKlj0I6mV+h785zvgO/A9fcBe971mP/MW+iVIjJ+S0vP9FE4rSjfqRFgvuRGjJfrWlYCU1D4hZiwlKuzSPabTYHtzFJpI8PazHY3e9MN1hYfnvX+82FBtXkd7Arp1beuS+JWEbxXNZPvvr5NYjd8rsP+wjQxoOGwH7XsRmNiwBGU8sTL79kaSEtdm1U3XiEMAUTTiNYbP02m5cIM/5WuP4kCfukJ58wh53+WPhcJkjl18rxw7vkysTWmkKa1D2NT2YngdDO33+hY2q1eOwsX/YiAK+gxooZLg71VqxqqpXa8yjK2w5sFDjAqjliRCDWkgfCfsr1X/9TzJuV9kYkTGL0ji6LUhT0287wp7ajmOTRtGQ178Tyatgl1oDuKb44nYu1O6p35scbF64hI536nEJ8C3HYxvpaIgXUTSERJKaC7TXQI5QyQ6ZB8RRt0rR7egdsgKoN2uVh5ayFhy5KCyoEHLqoutlFs17uSXnk07UDtct8EL989sx0/hNpT2aOB319KLAxOnX78A0OzUbbwWrwecCGCD2PjG76aiGBTlmQsIq4NUNfW0DyVXQ9SSFrJiP4def43cGFDeEHm58sIoBlX/eps+LHmNMx+2M2w1NV/YVXV0TXQp1wgmJt2kM=
